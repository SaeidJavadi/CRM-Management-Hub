{% extends "base.html" %}
{% load static %}
{% block head %}
{% endblock head %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8 d-flex justify-content-center">
                <h2>{{ headerTitle }}</h2>
            </div>
            <div class="col-2"></div>
        </div>
        {# Payment Chart #}
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <div class="p-2 border d-flex justify-content-center"
                     style="background-color:#c1f6e375;
                            border-radius: 15px">
                    <div id="container" style="width: 75%;">
                        <canvas id="users_chart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-2"></div>
        </div>
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <div class="p-2 border"
                     style="background-color:#c1f6e375;
                            border-radius: 15px">
                    <div class="row">
                        <div class="col-8">Total:</div>
                        <div class="col-4">{{ totalcount }}</div>
                    </div>
                    <div class="row">
                        <div class="col-8">Active Users:</div>
                        <div class="col-4">{{ datausers.0 }}</div>
                    </div>
                    <div class="row">
                        <div class="col-8">Staff Users:</div>
                        <div class="col-4">{{ datausers.1 }}</div>
                    </div>
                       <div class="row">
                        <div class="col-8">Super Users:</div>
                        <div class="col-4">{{ datausers.2 }}</div>
                    </div>
                </div>
            </div>
            <div class="col-2"></div>
        </div>
        <br>
        {# Contery Chart #}
        {% comment %} <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <div class="p-2 border d-flex justify-content-center"
                     style="background-color:#c1f6e375;
                            border-radius: 15px">
                    <div id="container" style="width: 75%;">
                        <canvas id="contery_chart"></canvas>
                    </div>
                </div>
            </div>
            <div class="col-2"></div>
        </div>
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <div class="p-2 border"
                     style="background-color:#c1f6e375;
                            border-radius: 15px">
                    <div class="row">
                        <div class="col-8">Total Contery:</div>
                        <div class="col-4">{{ totalcountery }}</div>
                    </div>
                </div>
            </div>
            <div class="col-2"></div>
        </div> {% endcomment %}

    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script>
    var ctxusers = document.getElementById('users_chart').getContext('2d');
    var configusers = {
        type: 'pie',
        data: {
            datasets: [{
                data: {{ datausers|safe }},
                backgroundColor: [
                    '#00FF0C', '#B0BA87','#E6EB09'
                ],
                label: 'Users'
            }],
            labels: {{ labelsusers|safe }}
        },
        options: {
            responsive: true
        }
    };

    window.onload = function() {
        window.usersPie = new Chart(ctxusers, configusers);
    };
</script>
{% endblock content %}
